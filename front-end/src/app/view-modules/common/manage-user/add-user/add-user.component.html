<h2 class="heading fw-600">Add Employee</h2>
<!-- <div > -->
<!-- <div > -->
  <!-- <form [formGroup]="addUserForm" (ngSubmit)="openConfirmation()" class="mt-40"> -->
  <form  [formGroup]="addUserForm" (ngSubmit)="openConfirmation()" class="mt-lg-30 mt-xmd-30" #f="ngForm">
    <div class="wrapper col-lg p-lg-55 p-xmd-25">
     
      <div class="grid-container">
        <div class="w-lg-100">
          <mat-form-field class="w-lg-50 w-xmd-50">
            <mat-label>First Name</mat-label>
            <input autocomplete="off" autofocus="off" matInput formControlName="firstName" [(ngModel)]='newUserFirstName'>
            <mat-error
              *ngIf=" addUserForm.controls.firstName.touched && addUserForm.controls.firstName.hasError('required')">
              Please enter First Name
            </mat-error>
          </mat-form-field>

          <mat-form-field class="w-lg-50 w-xmd-50"> 
            <mat-label>Last Name</mat-label>
            <input autocomplete="off"  autofocus="off" matInput formControlName="lastName" [(ngModel)]='newUserLastName'>
            <mat-error
              *ngIf="addUserForm.controls.lastName.touched && addUserForm.controls.lastName.hasError('required')">
              Please enter Last Name
            </mat-error>
          </mat-form-field>
        </div>
          <mat-form-field>
            <mat-label>Email</mat-label>
            <input autocomplete="off"  autofocus="off" matInput formControlName="email" />
            <mat-error *ngIf="addUserForm.controls.email.touched && addUserForm.controls.email.hasError('required')">
              Please enter Email
            </mat-error>
            <mat-error *ngIf="addUserForm.controls.email.touched && addUserForm.controls.email.hasError('email')">
              Please enter valid Email
            </mat-error>
            <mat-error *ngIf="addUserForm.controls.email.touched && addUserForm.controls.email.hasError('is_duplicated')">
              Entered Email already exists
            </mat-error>

          </mat-form-field>

          <mat-form-field>
            <mat-label>Staff No.</mat-label>
            <input autocomplete="off"  autofocus="off" matInput formControlName="staff_no">
            <mat-error
              *ngIf="addUserForm.controls.staff_no.touched && addUserForm.controls.staff_no.hasError('required')">
              Please enter Staff No.
            </mat-error>
            <mat-error
              *ngIf="addUserForm.controls.staff_no.touched && addUserForm.controls.staff_no.hasError('is_duplicated')">
              Entered Staff No. already exists
            </mat-error>
          </mat-form-field>
      </div>

      <div class="gap"></div>

      <div class="grid-container">
        <!-- <mat-form-field>
          <mat-label>Gender</mat-label>
          <mat-select formControlName="gender">
            <mat-option [value]="gender['id']" *ngFor="let gender of ALL_GENDERS">{{gender['name']}}</mat-option>
          </mat-select>
          <mat-error *ngIf="addUserForm.controls.gender.touched && addUserForm.controls.gender.hasError('required')">
            Please select Gender
          </mat-error>
        </mat-form-field> -->

        <!-- Adding custom code for radio button for gender selection -->

            <mat-form-field >
              <mat-label>Location</mat-label>
              <mat-select formControlName="location">
                <mat-option [value]="location.id" *ngFor="let location of ALL_LOCATIONS">{{location.name}}</mat-option>
              </mat-select>
              <mat-error
                *ngIf="addUserForm.controls.location.touched && addUserForm.controls.location.hasError('required')">
                Please select Location
              </mat-error>
            </mat-form-field>
          
             <div class="fs-14" >
              <mat-label class="mb-lg-5 " style="display:block;color: var(--col-primary-300);">Gender</mat-label>
              <mat-radio-group  formControlName="gender" >
                <mat-radio-button class="mr-lg-5 mb-lg-5"style="color: var(--col-primary-300);" [value]="gender['id']" *ngFor="let gender of ALL_GENDERS">{{gender['name']}}</mat-radio-button>
              </mat-radio-group>
              <mat-error *ngIf="addUserForm.controls.gender.touched && addUserForm.controls.gender.hasError('required')">
                Please select Gender
              </mat-error>
            
              </div>
                

              <mat-form-field>
                <mat-label>Group</mat-label>
                <mat-select formControlName="company">
                  <mat-option [value]="grp" *ngFor="let grp of GROUPS_DATA">{{grp}}</mat-option>
                </mat-select>
                <mat-error *ngIf="addUserForm.controls.company.touched && addUserForm.controls.company.hasError('required')">
                  Please select Group
                </mat-error>
              </mat-form-field>
      </div>

      <div class="gap"></div>
      
     
<!-- 
    *****************************************************************************
    ******************************************************************************* -->

      <div class="grid-container">
        <mat-form-field>
          <mat-label>Category</mat-label>
          <mat-select formControlName="category">
            <mat-option [value]="category['id']" *ngFor="let category of ALL_CATEGORIES">{{category['name']}}
            </mat-option>
          </mat-select>
          <mat-error
            *ngIf="addUserForm.controls.category.touched && addUserForm.controls.category.hasError('required')">
            Please select Category
          </mat-error>
        </mat-form-field>

        <!-- <mat-form-field>
                    <mat-label>Marital Status</mat-label>
                    <mat-select formControlName="is_married" (selectionChange)="onMaritalStatusChange()">
                        <mat-option [value]="m_status['value']" *ngFor="let m_status of MARITAL_STATUS">{{m_status['name']}}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="addUserForm.controls.is_married.touched && addUserForm.controls.is_married.hasError('required')">
                        Please select Marital Status
                    </mat-error>
                </mat-form-field> -->

        <!-- <mat-form-field >
                    <mat-label>Parental leave taken</mat-label>
                    <mat-select formControlName="patentry_maternity_cnt" [disabled]="addUserForm.controls.is_married.value!=true">
                        <mat-option [value]=0 >0</mat-option>
                        <mat-option [value]=1 >1</mat-option>
                        <mat-option [value]=2 >2</mat-option>
                       
                    </mat-select>
                    <mat-error *ngIf="addUserForm.controls.patentry_maternity_cnt.touched && addUserForm.controls.patentry_maternity_cnt.hasError('required')">
                        Please select Parental leave taken
                    </mat-error>
                </mat-form-field> -->
 <!-- *********************************************************
 ***********************************************
 ************************************ -->
                <div class="fs-14" > 
                  <p style="margin: 0 0 5px 0px;color:var(--col-primary-300);">Atwork Role</p>
                  <div >
                    <ul>
                      <li  class="mb-lg-5"
                      *ngFor="let role of ROLES;let i=index">
                        <!-- <div class="container"> -->
                        <label class="container mr-lg-5 " style="color:var(--col-primary-100)"> {{role.name}}
                          <input type="checkbox" [disabled]="true" *ngIf="role.name === 'L0'" [checked]="true">
                          <input type="checkbox" (change)="selectRole(i,role.selected)" *ngIf="role.name != 'L0' "
                            [checked]="role.selected" [disabled]="role.disabled">
                          <span class="checkmark"></span>
                        </label>
                        <!-- </div> -->
                      </li>
        
                    </ul>
                  </div>
                </div>

        <mat-form-field class="custompicker">
          <mat-label>Date of Joining</mat-label> 
          <input  autocomplete="off" (keydown)="false" (click)="picker.open()" matInput  [matDatepicker]="picker" formControlName="doj" (dateChange)="onDate($event)" >
          <div matSuffix class="pointer" [svgIcon]="{url:'./assets/icons-sprite-new.svg#calendar',w:20}" svg-fill="currentColor" (click)="picker.open()"></div>
          <mat-datepicker (selectedChanged)="onDate($event)" #picker></mat-datepicker> 
          <mat-error *ngIf="addUserForm.controls.doj.touched ">
            Please select Date of Joining
          </mat-error>
        </mat-form-field>
      </div> 
 
        <div class="gap"></div>
        <div *ngIf="!makeSelfFM" class="grid-container">
          <mat-form-field>
            <mat-label>Functional Owner</mat-label>
            <mat-select formControlName="fun_own" (selectionChange)="changeFM($event.value,newUserRoleValue)">
              <mat-option [value]=0 *ngIf="newUserRoleValue==4" class="self-option">Self
                ({{newUserFirstName +" "+newUserLastName}})</mat-option>
              <ng-container *ngIf="newUserRoleValue!=4">
                <mat-option [value]="emp['emp_id']" *ngFor="let emp of FM_DATA">{{emp["emp_name"]}}</mat-option>
              </ng-container>

            </mat-select>
            <mat-error *ngIf="addUserForm.controls.fun_own.touched && addUserForm.controls.fun_own.hasError('notNull')">
              Please select Functional Owner
            </mat-error>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Manager's Manager</mat-label>
            <mat-select formControlName="man_manager" (selectionChange)="changeMM($event.value, newUserRoleValue)">
              <mat-option [value]=0 *ngIf="newUserRoleValue==4 " class="self-option">Self
                ({{newUserFirstName +" "+newUserLastName}})</mat-option>
              <mat-option [value]="emp['emp_id']" *ngFor="let emp of MM_DATA">{{emp["emp_name"]}}</mat-option>
            </mat-select>
            <mat-error
              *ngIf="addUserForm.controls.man_manager.touched && addUserForm.controls.man_manager.hasError('notNull')">
              Please select Manager's Manager
            </mat-error>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Reporting Manager</mat-label>
            <mat-select formControlName="rep_manager">
              <mat-option [value]=0 *ngIf="newUserRoleValue==4 " class="self-option">Self
                ({{newUserFirstName +" "+newUserLastName}})</mat-option>
              <mat-option [value]="emp['emp_id']" *ngFor="let emp of RM_DATA">{{emp["emp_name"]}}</mat-option>
            </mat-select>
            <mat-error
              *ngIf="addUserForm.controls.rep_manager.touched && addUserForm.controls.rep_manager.hasError('notNull')">
              Please select Reporting Manager
            </mat-error>
          </mat-form-field >
        </div>
        <!-- <div> -->
     
        <!-- </div> -->
        <!-- <div> -->
          
        <!-- </div> -->
      <!-- </div> -->
</div>
      <!-- col has been removed from here ie removed flex-direction colum -->
        <div class="flex no-lg-wrap center-xmd center-lg mt-xmd-30 mt-lg-40 "mat-dialog-actions>
          <div  class="pr-lg-20 pr-xmd-20" style="display: inline-block;padding-bottom: 10px;">
            <app-button  type="button" theme="grey" (click)="reset()"  >Reset All</app-button>
          </div>
          <div style="padding-bottom: 10px;">
            <app-button  type="submit"  [disabled]="!addUserForm.valid" >Add Employee</app-button>
          </div>
       
        
        </div> 
  </form> 
<!-- </div> -->
<!-- </div> -->
<!-- <app-modal-popup #confirmationRef [w]="'30%'" [h]="'35%'"></app-modal-popup> -->
<!-- <app-modal-popup #confirmationRef [w]="'30%'" [h]="'35%'">
  <div head>
    Confirm
  </div>
  <div style="margin: 10px;">
    Are you sure to add this employee ?
  </div>
  <br>
  <div style="text-align:center;">
    <app-button style="margin:5px 20px" size='small' type="button" w="130" (click)="addUser()">Confirm
    </app-button>
    <app-button style="margin:5px 20px" size='small' theme="danger" type="button" w="130" (click)="closeConfirmation()">
      Cancel
    </app-button>
  </div>
</app-modal-popup> -->

