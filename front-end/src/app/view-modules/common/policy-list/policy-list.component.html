<div>
  <h2 class="heading">Document</h2>
  <div class="not--exsiting-policy"  *ngIf="EMPLOYEE_FILTERED_DATA.length == 0" >
      <p>There are no policies available</p>
  </div>
  <div>
      <table
      mat-table
      [dataSource]="EMPLOYEE_FILTERED_DATA"
      *ngIf="EMPLOYEE_FILTERED_DATA.length != 0"
      class="mat-elevation-z8"
    >
      <ng-container matColumnDef="sno">
        <th mat-header-cell *matHeaderCellDef>Serial No.</th>
        <td mat-cell *matCellDef="let element; let i = index">
          {{ i + 1 }}
        </td>
      </ng-container>

      <ng-container matColumnDef="policy_name">
        <th mat-header-cell *matHeaderCellDef>Policy Name</th>
        <td
          mat-cell
          *matCellDef="let element"
          [ngClass]="{ selectedBg: element.selected == true }"
        >
          {{ element.policy_name }}
        </td>
      </ng-container>

      <ng-container matColumnDef="updated_date">
        <th mat-header-cell *matHeaderCellDef>Updated on</th>
        <td
          mat-cell
          *matCellDef="let element"
          [ngClass]="{ selectedBg: element.selected == true }"
        >
          {{ element.enable_on }}
        </td>
      </ng-container>

      <ng-container matColumnDef="company">
        <th mat-header-cell *matHeaderCellDef>Groups</th>
        <td mat-cell *matCellDef="let element">
          <div class="company" *ngFor="let com of element.company_list">
            {{ com.company_name }}
          </div>
        </td>
      </ng-container>
      <ng-container matColumnDef="view">
        <th mat-header-cell *matHeaderCellDef>View</th>
        <td mat-cell *matCellDef="let element">
          <span
            class="ml-5"
            [svgIcon]="{ url: './assets/icons-sprite.svg#info', w: 20, h: 20 }"
            (click)="openPolicyDetails(element.id)"
            style="
              color: var(--color-tertiary);
              margin-top: 0px;
              cursor: pointer;
            "
            svg-fill="currentColor"
          ></span>
        </td>
      </ng-container>
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef>Edit</th>
        <td mat-cell *matCellDef="let element">
          <span
            class="ml-5"
            (click)="navigateToEdit(element.id, element.policy_type)"
            [svgIcon]="{ url: './assets/icons-sprite.svg#edit', w: 20, h: 20 }"
            style="
              color: var(--color-tertiary);
              margin-top: 0px;
              cursor: pointer;
            "
            svg-fill="#CCCCCC"
          ></span>
        </td>
      </ng-container>
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef>Delete</th>
        <td mat-cell *matCellDef="let element">
          <span
            class="ml-5"
            [svgIcon]="{
              url: './assets/icons-sprite.svg#delete',
              w: 20,
              h: 20
            }"
            (click)="openDeletePolicy(element.id)"
            style="
              color: var(--color-tertiary);
              margin-top: 0px;
              cursor: pointer;
            "
            svg-fill="#FF0000"
          ></span>
        </td>
      </ng-container>

      <tr
        mat-header-row
        *matHeaderRowDef="employeePopupColumns; sticky: true"
      ></tr>
      <tr mat-row *matRowDef="let row; columns: employeePopupColumns"></tr>
    </table>
  </div>
</div>

<app-modal-popup #policyDetailsRef [w]="'900px'" [h]="'700px'" [policy_style] ="true" >
  <div head>Policy</div>
  <div style="text-align: center">
    <!-- ===================== {{fileResponse}}============ -->
    <pdf-viewer [src]="filepathUrl" [render-text]="true" style="display: block ; position: inherit;">
    </pdf-viewer>
    <!-- <pdf-viewer [src]="pdfSrc" [render-text]="true" style="display: block;"></pdf-viewer> -->

    <!-- 'http://10.60.62.114:8000/api/media/id_card.pdf' -->
    <!-- http://10.60.62.114:4200/assets/images/Email_Friday_V3.jpg -->
    <!-- 'http://10.60.62.114:4200/assets/id_card.pdf' -->
    <!-- <ngx-doc-viewer [viewerUrl]="'https://docs.google.com/gview'" [url]="'https://testvedika.atai.ai/api/media/profiles/SAMPLE.docx'" [viewer]="'url'" style="width:100%;height:50vh;"></ngx-doc-viewer> -->
    <!-- <ngx-doc-viewer [url]="'http://10.60.62.114:8000/api/media/file-sample_100kB.docx'" viewer="google" style="width:100%;height:50vh;"></ngx-doc-viewer> -->
    <!-- <ngx-doc-viewer [url]="'http://10.60.62.114:8000/api/policy/upload/?filename=id_card.pdf'" viewer="url" style="width:100%;height:50vh;"></ngx-doc-viewer> -->

    <!-- <ngx-doc-viewer [url]="'https://docs.google.com/document/d/e/2PACX-1vRs3gemrszDinuGJCi_wO2m5XVP1q2SlRhxM8PAUYc3wu9LFsvteny7l6Rkp695-ruhfn3gWXV03yXC/pub?embedded=true'" viewer="url" style="width:100%;height:50vh;"></ngx-doc-viewer> -->
    <!-- <iframe src="'http://10.60.62.114:8000/api/media/id_card.pdf'" style="width: 100%;height: 400px;" title="Policy"></iframe> -->

    <!-- <iframe src="'http://10.60.62.114:8000/api/policy/upload/?filename=id_card.pdf'" style="width: 100%;height: 400px;" title="Policy"></iframe> -->

    <!-- <iframe src="'http://10.60.62.114:8000/api/policy/upload/?filename=id_card.pdf'" style="width: 100%;height: 400px;" title="Policy"></iframe> -->

    <!-- <iframe
      src=""
      #ifr
      type="application/pdf"
      style="width: 800px; height: 420px"
    ></iframe> -->

    <!-- <p>Your browser does not support iframes.</p> -->
  </div>
</app-modal-popup>

<app-modal-popup #deletePolicyRef [w]="'30%'" [h]="'30%'">
  <div head>Policy</div>
  <div style="margin: 10px; text-align: center">
    Are you sure want to delete the policy ?
  </div>
  <br />
  <div style="text-align: center">
    <app-button
      style="margin: 5px 20px"
      size="small"
      theme="danger"
      type="button"
      w="130"
      (click)="deletePolicy(deleteId)"
      >Delete
    </app-button>
    <app-button
      style="margin: 5px 20px"
      size="small"
      theme="blue-lite"
      type="button"
      w="130"
      (click)="closeDeletePolicy()"
      >Cancel
    </app-button>
  </div>
</app-modal-popup>
